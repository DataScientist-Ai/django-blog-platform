{% extends 'blog_buster/base.html' %}

{% block title %}Buying Guides - BlogBuster{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto px-5 space-y-10">
    <header class="text-center space-y-4">
        <p class="text-sm uppercase tracking-[0.4em] text-neutral-400">Buying Guides</p>
        <h1 class="text-4xl font-serif text-neutral-900">Lifewire-style recommendations</h1>
        <p class="text-neutral-500">Curated shortlists with verdicts, prices, and pros/cons you can trust.</p>
    </header>

    <div class="grid gap-8">
        {% for guide in guides %}
        <article class="bg-white border border-neutral-100 rounded-[32px] p-6 sm:p-10 shadow-sm">
            <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
                <div>
                    <p class="text-xs uppercase tracking-[0.4em] text-neutral-400">{{ guide.category.name|default:"Guide" }}</p>
                    <h2 class="text-2xl font-serif text-neutral-900 leading-snug">
                        <a href="{{ guide.get_absolute_url }}" class="hover:text-brand transition">{{ guide.title }}</a>
                    </h2>
                </div>
                {% if guide.hero_quote %}
                <p class="text-sm text-neutral-600 max-w-lg">{{ guide.hero_quote }}</p>
                {% endif %}
            </div>

            {% if guide.picks.all %}
            <div class="mt-6 grid gap-4 lg:grid-cols-3">
                {% for pick in guide.picks.all %}
                <div class="border border-neutral-100 rounded-2xl p-4 bg-neutral-50">
                    <p class="text-xs uppercase tracking-[0.4em] text-brand mb-1">{{ pick.verdict }}</p>
                    <h3 class="text-lg font-semibold text-neutral-900">{{ pick.title }}</h3>
                    <p class="text-sm text-neutral-600">{{ pick.tagline }}</p>
                    <div class="text-xs text-neutral-500 mt-2">Rating: {{ pick.rating }}/5{% if pick.price_range %} · {{ pick.price_range }}{% endif %}</div>
                    <div class="mt-3 grid grid-cols-2 gap-2 text-xs">
                        <div>
                            <p class="uppercase tracking-[0.3em] text-neutral-500 mb-1">Pros</p>
                            <ul class="space-y-1 text-neutral-700">
                                {% for item in pick.pros.splitlines %}
                                {% if item %}
                                <li>• {{ item }}</li>
                                {% endif %}
                                {% endfor %}
                            </ul>
                        </div>
                        <div>
                            <p class="uppercase tracking-[0.3em] text-neutral-500 mb-1">Cons</p>
                            <ul class="space-y-1 text-neutral-700">
                                {% for item in pick.cons.splitlines %}
                                {% if item %}
                                <li>• {{ item }}</li>
                                {% endif %}
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                    {% if pick.affiliate_url %}
                    <a href="{{ pick.affiliate_url }}" target="_blank" rel="nofollow noopener" class="inline-flex items-center gap-2 text-sm font-semibold text-brand mt-3">
                        Check price <span aria-hidden="true">→</span>
                    </a>
                    {% endif %}
                </div>
                {% endfor %}
            </div>
            {% endif %}
        </article>
        {% empty %}
        <p class="text-center text-neutral-500 bg-white border border-neutral-100 rounded-3xl p-10">No guides yet. Create one from the admin panel.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}

